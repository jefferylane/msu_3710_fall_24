<p style="color: green"><%= notice %></p>

<div class="container">
  <div class="row">
    <div class="col-md-8 mx-auto">
      <div class="card shadow-sm"> 
        <div class="card-body">
          <%= render 'search_form', search_params: @search_params %>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-8 mx-auto mt-4">
      <div class="card shadow-sm"> 
        <div class="card-body">
          <% if @students.empty? %>
            <div class="text-center">
              <% if @search_params.empty? %>
                <p role="alert">Please search for students to display results.</p>
              <% else %>
                <p role="alert">No students found matching your criteria.</p>
              <% end %>
            </div>
          <% else %>
            <div class="table-responsive">
              <table class="table table-striped table-hover" aria-label="Student List">
                <thead>
                  <tr>
                    <th scope="col" style="width: 15%;">First Name</th>
                    <th scope="col" style="width: 15%;">Last Name</th>
                    <th scope="col" style="width: 20%;">Major</th>
                    <th scope="col" style="width: 20%;">Graduation Date</th>
                    <th scope="col" style="width: 30%;">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <% @students.each do |student| %>
                    <tr>
                      <td><%= student.first_name %></td>
                      <td><%= student.last_name %></td>
                      <td><%= student.major %></td>
                      <td><%= student.graduation_date.strftime('%B %d, %Y') %></td>
                      <td>
                        <div class="d-flex gap-2">
                          <%= link_to 'Show', student, class: "btn btn-primary btn-sm", aria_label: "Show details for #{student.first_name} #{student.last_name}" %> 
                          <%= link_to 'Edit', edit_student_path(student), class: "btn btn-secondary btn-sm", aria_label: "Edit details for #{student.first_name} #{student.last_name}" %> 
                          <%= button_to 'Delete', student, method: :delete, class: "btn btn-danger btn-sm", data: { confirm: 'Are you sure?' }, aria_label: "Delete #{student.first_name} #{student.last_name}" %>
                        </div>
                      </td>
                    </tr>
                  <% end %>
                </tbody>
              </table>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>